<div class="card">
    <p-table
        #dt
        [value]="employees"
        [(selection)]="selectedEmployees"
        dataKey="id"
        [rowHover]="true"
        [rows]="10"
        [showCurrentPageReport]="true"
        [rowsPerPageOptions]="[10, 25, 50]"
        [loading]="loading"
        [paginator]="true"
        
    >
        <ng-template #header>
            <tr>
                <th style="width: 4rem">
                    <p-tableHeaderCheckbox />
                </th>
                <th pSortableColumn="Number" style="min-width: 14rem">
                    <div class="flex justify-between items-center gap-2">
                        Number
                        <p-columnFilter type="text" field="Number" display="menu" class="ml-auto" />
                    </div>
                </th>
                <th pSortableColumn="Name" style="min-width: 14rem">
                    <div class="flex justify-between items-center gap-2">
                        Name
                        <p-columnFilter type="text" field="Name" display="menu" class="ml-auto" />
                    </div>
                </th>
                <th pSortableColumn="Gender" style="min-width: 14rem">
                    <div class="flex justify-between items-center gap-2">
                        Gender
                        <p-columnFilter type="text" field="Gender" display="menu" class="ml-auto" />
                    </div>
                </th>
                <th pSortableColumn="Roles" style="min-width: 14rem">
                    <div class="flex justify-between items-center gap-2">
                        Roles
                        <p-columnFilter type="Roles" field="Roles" display="menu" class="ml-auto" />
                    </div>
                </th>
              
                <th style="width: 5rem"></th>
            </tr>
        </ng-template>
        <ng-template #body let-employee>
            <tr class="p-selectable-row">
                <td>
                    <p-tableCheckbox [value]="employee" />
                </td>
                <td>
                    {{ employee.number }}
                </td>
                <td>
                    <div class="flex items-center gap-2">
                        <span class="ml-1 align-middle">{{ employee.first_name }} {{employee.last_name}}</span>
                    </div>
                </td>
                <td>
                    <div class="flex items-center gap-2">
                        <span class="ml-1 align-middle">{{ employee.gender }}</span>
                    </div>
                </td>

                <td>
                    <div class="flex items-center gap-2">
                        @for(role of employee.roles; track role){
                            <span class="ml-1 align-middle">{{ role }}</span>
                            <br>
                        }
                       
                    </div>
                </td>


                

            </tr>
        </ng-template>
        <ng-template #emptymessage>
            <tr>
                <td colspan="8">No customers found.</td>
            </tr>
        </ng-template>
    </p-table>
</div>